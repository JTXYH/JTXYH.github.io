(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{531:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",[t._v("request和response对象是由"),a("strong",[t._v("服务器创建的")]),t._v("，我们只是使用,request对象是来"),a("strong",[t._v("获取请求消息")]),t._v("，response对象是来"),a("strong",[t._v("设置响应消息")])])]),t._v(" "),a("h2",{attrs:{id:"request继承原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#request继承原理"}},[t._v("#")]),t._v(" request继承原理")]),t._v(" "),a("ol",[a("li",[t._v("ServletRequest  "),a("strong",[t._v("--接口(继承HttpServletRequest)")])]),t._v(" "),a("li",[t._v("HttpServletRequest  "),a("strong",[t._v("--接口(实现org.apache.catalina.connector.RequestFacade)")])]),t._v(" "),a("li",[t._v("org.apache.catalina.connector.RequestFacade "),a("strong",[t._v("--类(tomcat)")])])]),t._v(" "),a("h2",{attrs:{id:"获取请求消息数据功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取请求消息数据功能"}},[t._v("#")]),t._v(" 获取请求消息数据功能")]),t._v(" "),a("h3",{attrs:{id:"获取请求行数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取请求行数据"}},[t._v("#")]),t._v(" 获取请求行数据")]),t._v(" "),a("ul",[a("li",[t._v("格式："),a("strong",[t._v("GET /day01/test1?name=lisi HTTP/1.1")])]),t._v(" "),a("li",[t._v("方法：\n"),a("ol",[a("li",[t._v("获取请求方式："),a("strong",[t._v("GET")]),t._v(" "),a("ul",[a("li",[t._v("String  "),a("strong",[t._v("getMethod()")])])])]),t._v(" "),a("li",[t._v("获取虚拟目录："),a("strong",[t._v("/day01")]),t._v(" "),a("ul",[a("li",[t._v("String  "),a("strong",[t._v("getContextPath()")])])])]),t._v(" "),a("li",[t._v("获取Servlet路径："),a("strong",[t._v("/test1")]),t._v(" "),a("ul",[a("li",[t._v("String  "),a("strong",[t._v("getServletPath()")])])])]),t._v(" "),a("li",[t._v("获取get方式请求参数："),a("strong",[t._v("name=lisi")]),t._v(" "),a("ul",[a("li",[t._v("String  "),a("strong",[t._v("getQueryString()")])])])]),t._v(" "),a("li",[t._v("获取请求"),a("strong",[t._v("URI(统一资源标识符)")]),t._v("："),a("strong",[t._v("/day01/test1")]),t._v(" "),a("ul",[a("li",[t._v("String  "),a("strong",[t._v("getRequestURI()")])])])]),t._v(" "),a("li",[t._v("获取请求"),a("strong",[t._v("URL(统一资源定位符)")]),t._v("："),a("strong",[t._v("http://localhost/day01/test1")]),t._v(" "),a("ul",[a("li",[t._v("StringBuffer  "),a("strong",[t._v("getRequestURL()")])])])]),t._v(" "),a("li",[t._v("获取协议及版本："),a("strong",[t._v("HTTP/1.1")]),t._v(" "),a("ul",[a("li",[t._v("String  "),a("strong",[t._v("getProtocol()")])])])]),t._v(" "),a("li",[t._v("获取客户机IP地址：\n"),a("ul",[a("li",[t._v("String  "),a("strong",[t._v("getRemoteAddr()")])])])])])])]),t._v(" "),a("h3",{attrs:{id:"获取请求头数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取请求头数据"}},[t._v("#")]),t._v(" 获取请求头数据")]),t._v(" "),a("ul",[a("li",[t._v("方法：\n"),a("ol",[a("li",[t._v("通过请求头的名称获取请求头：\n"),a("ul",[a("li",[a("strong",[t._v("String getHeader(String name)")])])])]),t._v(" "),a("li",[t._v("获取所有的请求头名称：\n"),a("ul",[a("li",[a("strong",[t._v("Enumeration"),a("String",[t._v(" getHeaderNames()")])],1)])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取所有请求头名称")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Enumeration")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" headerNames "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHeaderNames")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 遍历")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("headerNames"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasMoreElements")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" headerNames"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//根据名称获取请求头")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])])]),t._v(" "),a("h3",{attrs:{id:"获取请求体数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取请求体数据"}},[t._v("#")]),t._v(" 获取请求体数据")]),t._v(" "),a("ul",[a("li",[t._v("只有"),a("strong",[t._v("POST")]),t._v("请求方式才有请求体")]),t._v(" "),a("li",[t._v("步骤：\n"),a("ol",[a("li",[t._v("获取"),a("strong",[t._v("流对象")]),t._v(" "),a("ul",[a("li",[t._v("获取"),a("strong",[t._v("字符输入流")]),t._v("："),a("strong",[t._v("BufferedReader getReader()，只能获取字符数据")])]),t._v(" "),a("li",[t._v("获取"),a("strong",[t._v("字节输入流")]),t._v("："),a("strong",[t._v("ServletInputStream getInputStream()，可以操作所有类型数据")])])])]),t._v(" "),a("li",[a("strong",[t._v("从流对象中拿数据")])])])])]),t._v(" "),a("h2",{attrs:{id:"其他功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他功能"}},[t._v("#")]),t._v(" 其他功能")]),t._v(" "),a("h3",{attrs:{id:"获取请求参数-get和post通用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取请求参数-get和post通用"}},[t._v("#")]),t._v(" 获取请求参数(GET和POST通用)")]),t._v(" "),a("ol",[a("li",[t._v("根据参数名称获取参数值：\n"),a("ul",[a("li",[t._v("String "),a("strong",[t._v("getParamenter(String name)")])])])]),t._v(" "),a("li",[t._v("根据参数名称获取参数值的"),a("strong",[t._v("数组")]),t._v(" "),a("ul",[a("li",[t._v("String[] "),a("strong",[t._v("getParamenterValues(String name)")])])])]),t._v(" "),a("li",[t._v("获取所有请求的参数名称\n"),a("ul",[a("li",[a("ul",[a("li",[t._v("Enumeration"),a("String",[a("strong",[t._v("getParamenterNames()")])])],1)])])])]),t._v(" "),a("li",[t._v("获取所有参数的Map集合\n"),a("ul",[a("li",[t._v("Map<String,String[]> "),a("strong",[t._v("getParamenterMap()")])])])])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("中文乱码问题")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("get方式")]),t._v("：tomcat8解决了中文乱码方式")]),t._v(" "),a("li",[a("strong",[t._v("post方式")]),t._v("：会有乱码\n"),a("ul",[a("li",[t._v("需要设置字符集为："),a("strong",[t._v('request.setCharacterEncoding("utf-8")')])])])])])])]),t._v(" "),a("h3",{attrs:{id:"请求转发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请求转发"}},[t._v("#")]),t._v(" 请求转发")]),t._v(" "),a("ul",[a("li",[t._v("一种在服务器内部的"),a("strong",[t._v("资源跳转方式")])]),t._v(" "),a("li",[a("strong",[t._v("步骤")]),t._v("：\n"),a("ol",[a("li",[t._v("通过request对象获取请求转发器对象\n"),a("ul",[a("li",[t._v("RequestDispatcher "),a("strong",[t._v("getRequestDispatcher(String path)")])])])]),t._v(" "),a("li",[t._v("使用RequestDispatcher对象进行转发\n"),a("ul",[a("li",[a("strong",[t._v("forword(ServletRequest request,ServletResponse response)")])])])])])])]),t._v(" "),a("h3",{attrs:{id:"共享数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#共享数据"}},[t._v("#")]),t._v(" 共享数据")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("域对象")]),t._v("：一个有作用范围的对象，可以在"),a("strong",[t._v("范围内共享数据")])]),t._v(" "),a("li",[a("strong",[t._v("request域")]),t._v("：代表"),a("strong",[t._v("一次请求")]),t._v("的范围，一般用于"),a("strong",[t._v("请求转发的多个资源中共享数据")])]),t._v(" "),a("li",[t._v("方法：\n"),a("ol",[a("li",[t._v("存储数据\n"),a("ul",[a("li",[t._v("void "),a("strong",[t._v("setAttribute(String name,Object obj)")])])])]),t._v(" "),a("li",[t._v("通过键获取值\n"),a("ul",[a("li",[t._v("object "),a("strong",[t._v("getAttribute(String name)")])])])]),t._v(" "),a("li",[t._v("通过键移除键值对\n"),a("ul",[a("li",[t._v("void "),a("strong",[t._v("removeAttribute(String name)")])])])])])])]),t._v(" "),a("h3",{attrs:{id:"获取servletcontext"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取servletcontext"}},[t._v("#")]),t._v(" 获取ServletContext")]),t._v(" "),a("ul",[a("li",[t._v("获取\n"),a("ul",[a("li",[t._v("ServletContext "),a("strong",[t._v("getServletContext()")])])])])]),t._v(" "),a("h2",{attrs:{id:"beanutils技术"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#beanutils技术"}},[t._v("#")]),t._v(" BeanUtils技术")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("导入jar包：")]),t._v(" "),a("ol",[a("li",[a("strong",[a("a",{attrs:{href:"https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils/1.9.3",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载BeanUtils"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("strong",[a("a",{attrs:{href:"https://mvnrepository.com/artifact/commons-logging/commons-logging/1.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载Logging"),a("OutboundLink")],1)])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("注意")]),t._v("：出现"),a("strong",[t._v("java.lang.ClassNotFoundException")]),t._v("时")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("需要把beanutils.jar包和logging.jar包放到Tomcat的\\WEB-INF\\lib目录下面")])])])])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置字符编码")]),t._v("\nreq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCharacterEncoding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utf-8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取所有请求参数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getParameterMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个存储的对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BeanTest")]),t._v(" beanTest "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BeanTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用BeanUtils封装")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BeanUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("populate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("beanTest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IllegalAccessException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("InvocationTargetException")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("用于封装"),a("strong",[t._v("JavaBean")]),t._v("的\n"),a("ol",[a("li",[t._v("JavaBean："),a("strong",[t._v("标准的Java类")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("要求")]),t._v("：\n"),a("ul",[a("li",[t._v("类必须被public修饰")]),t._v(" "),a("li",[t._v("必须提供空参的构造器")]),t._v(" "),a("li",[t._v("成员变量必须使用private修饰")]),t._v(" "),a("li",[t._v("提供公共的setter和getter方法")])])]),t._v(" "),a("li",[a("strong",[t._v("功能")]),t._v("：封装数据")])])]),t._v(" "),a("li",[t._v("概念：\n"),a("ul",[a("li",[t._v("成员变量：定义在类下面被"),a("strong",[t._v("修饰符修饰的变量")])]),t._v(" "),a("li",[t._v("属性："),a("strong",[t._v("setter和getter方法截取后的产物")])])])])])]),t._v(" "),a("li",[t._v("方法：\n"),a("ol",[a("li",[t._v("设置"),a("strong",[t._v("属性值")]),t._v(" "),a("ul",[a("li",[t._v("void "),a("strong",[t._v("setProperty(Object obj,String name,String value)")])])])]),t._v(" "),a("li",[t._v("获取"),a("strong",[t._v("属性值")]),t._v(" "),a("ul",[a("li",[t._v("String "),a("strong",[t._v("getProperty(String name)")])])])]),t._v(" "),a("li",[a("strong",[t._v("将map集合的键值对信息，封装到相应的JavaBean对象中")]),t._v(" "),a("ul",[a("li",[t._v("void "),a("strong",[t._v("popular(Object obj,Map<String, String[]> map)")])])])])])])]),t._v(" "),a("h2",{attrs:{id:"response对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#response对象"}},[t._v("#")]),t._v(" Response对象")]),t._v(" "),a("ul",[a("li",[t._v("功能：设置响应消息")])]),t._v(" "),a("h3",{attrs:{id:"设置响应行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置响应行"}},[t._v("#")]),t._v(" 设置响应行")]),t._v(" "),a("ol",[a("li",[t._v("格式：HTTP/1.1 200 OK")]),t._v(" "),a("li",[t._v("设置状态码："),a("strong",[t._v("setStatus(int sc)")])])]),t._v(" "),a("h3",{attrs:{id:"设置响应头"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置响应头"}},[t._v("#")]),t._v(" 设置响应头")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("response.setHeader(String name,String value)")])])]),t._v(" "),a("h3",{attrs:{id:"设置响应体"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置响应体"}},[t._v("#")]),t._v(" 设置响应体")]),t._v(" "),a("ul",[a("li",[t._v("使用步骤：\n"),a("ol",[a("li",[a("strong",[t._v("获取输出流")]),t._v(" "),a("ul",[a("li",[t._v("首先设置"),a("strong",[t._v("字符编码")]),t._v("："),a("strong",[t._v('response.setContentType("text/html;charset=utf-8")')])]),t._v(" "),a("li",[t._v("字符输出流：PrintWriter "),a("strong",[t._v("getWriter()，只能获取字符数据")])]),t._v(" "),a("li",[t._v("字节输出流：ServletOutputStream "),a("strong",[t._v("getOutputStream()，可以操作所有类型数据")])])])]),t._v(" "),a("li",[a("strong",[t._v("使用输出流")]),t._v("，将数据输出到客户端浏览器")])])])]),t._v(" "),a("h2",{attrs:{id:"重定向和转发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#重定向和转发"}},[t._v("#")]),t._v(" 重定向和转发")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("转发特点")]),t._v("：forward")]),t._v(" "),a("ol",[a("li",[t._v("浏览器"),a("strong",[t._v("地址栏路径不发生变化")])]),t._v(" "),a("li",[t._v("只能转发到"),a("strong",[t._v("当前服务器内部资源中")])]),t._v(" "),a("li",[t._v("转发是"),a("strong",[t._v("一次请求")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("重定向特点")]),t._v("：redirect")]),t._v(" "),a("ol",[a("li",[t._v("浏览器"),a("strong",[t._v("地址栏路径发生变化")])]),t._v(" "),a("li",[t._v("可以访问"),a("strong",[t._v("其他站点(服务器)资源")])]),t._v(" "),a("li",[t._v("重定向是"),a("strong",[t._v("两次请求")]),t._v("，"),a("strong",[t._v("不能使用request对象来共享数据")])])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置状态码为302")]),t._v("\nresp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("302")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置响应头location")]),t._v("\nresp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"location"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"req.getContextPath()+/demo2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 简单使用的重定向方法")]),t._v("\nresp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendRedirect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/00_Test/demo2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"路径写法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#路径写法"}},[t._v("#")]),t._v(" 路径写法")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("相对路径")]),t._v("：通过相对路径"),a("strong",[t._v("不可以")]),t._v("确定唯一资源\n"),a("ul",[a("li",[t._v("./index.html")]),t._v(" "),a("li",[a("strong",[t._v("不以 / 开头，以 . 开头")])]),t._v(" "),a("li",[a("strong",[t._v("规则")]),t._v("：找到当前资源和目标资源之间的相对位置关系")])])]),t._v(" "),a("li",[a("strong",[t._v("绝对路径")]),t._v("：通过绝对路径"),a("strong",[t._v("可以")]),t._v("确定唯一资源\n"),a("ul",[a("li",[t._v("/day01/demo1")]),t._v(" "),a("li",[a("strong",[t._v("以 / 开头")])]),t._v(" "),a("li",[t._v("规则：\n"),a("ol",[a("li",[t._v("给客户端浏览器使用："),a("strong",[t._v("需要")]),t._v("加虚拟目录("),a("strong",[t._v("项目路径")]),t._v(")\n"),a("ul",[a("li",[t._v("虚拟目录使用："),a("strong",[t._v("request.getContextPath()动态获取")])])])]),t._v(" "),a("li",[t._v("给服务器使用："),a("strong",[t._v("不需要")]),t._v("加虚拟目录")])])])])])]),t._v(" "),a("h2",{attrs:{id:"servletcontext对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#servletcontext对象"}},[t._v("#")]),t._v(" ServletContext对象")]),t._v(" "),a("p",[t._v("概念："),a("strong",[t._v("代表整个web应用，可以和程序的容器(服务器)来通信")])]),t._v(" "),a("h3",{attrs:{id:"获取"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取"}},[t._v("#")]),t._v(" 获取")]),t._v(" "),a("ol",[a("li",[t._v("通过request对象获取\n"),a("ul",[a("li",[a("strong",[t._v("request.getServletContext()")])])])]),t._v(" "),a("li",[t._v("通过HTTPServlet获取\n"),a("ul",[a("li",[a("strong",[t._v("this.getServletContext()")])])])])]),t._v(" "),a("h3",{attrs:{id:"功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能"}},[t._v("#")]),t._v(" 功能")]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("获取MIME类型")])]),t._v(" "),a("ul",[a("li",[t._v("MIME类型：在互联网通信过程中定义的一种"),a("strong",[t._v("文件数据类型")])]),t._v(" "),a("li",[t._v("格式："),a("strong",[t._v("大类型/小类型")]),t._v(" "),a("ul",[a("li",[t._v("text/html   image/jpeg")])])]),t._v(" "),a("li",[t._v("获取："),a("strong",[t._v("String getMimeType(String file)")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("域对象")]),t._v("：共享数据")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("setAttribute(String name,Object value)")])]),t._v(" "),a("li",[a("strong",[t._v("getAttribute(String name)")])]),t._v(" "),a("li",[a("strong",[t._v("removeAttribute(String name)")])])]),t._v(" "),a("ul",[a("li",[t._v("ServletContext"),a("strong",[t._v("对象范围")]),t._v("："),a("strong",[t._v("所有用户所有请求的数据")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("获取文件的真实(服务器)路径")])]),t._v(" "),a("ol",[a("li",[t._v("方法："),a("strong",[t._v("String getRealPath(String path)")])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);